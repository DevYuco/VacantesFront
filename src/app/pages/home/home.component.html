<div class="container mt-5">
  @if (!cargando) {
  @if (this.userRole === 'CLIENTE' || this.userRole === 'EMPRESA') {
  <div class="row g-4">
    @for (vacante of arrVacantes; track vacante.idVacante) {
    <div class="col-md-6">
      <article class="d-flex justify-content-center">
        <app-card-vacante [vacante]="vacante" [id]="vacante.idVacante">
        </app-card-vacante>
      </article>
    </div>
    }

    @empty {
    <div class="col-12">
      <div class="alert alert-danger">
        No hay vacantes disponibles.
      </div>
    </div>
    }
  </div>
  }
  }@if (this.userRole === 'ADMON') {
  <div class="container mt-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
      <h4 class="mb-0">Administración de Empresas</h4>
      <a class="btn btn-success" [routerLink]="['/admin/CRUDEmpresas']">Ir a administrar Empresas</a>
    </div>
  
    <div class="row g-4 mb-5">
      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-primary bg-opacity-10 text-primary">
                <i class="fas fa-building"></i>
              </div>
            </div>
            <h6 class="text-muted mb-2">Total Empresas</h6>
            <h4 class="mb-3">{{arrEmpresas.length}}</h4>
            <div class="progress">
              <div class="progress-bar bg-primary" style="width: 75%"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-info bg-opacity-10 text-info">
                <i class="fas fa-briefcase"></i>
              </div>
            </div>
            <h6 class="text-muted mb-2">Total vacantes</h6>
            <h4 class="mb-3">{{arrVacantes.length}}</h4>
            <div class="progress">
              <div class="progress-bar bg-info" style="width: 60%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="d-flex justify-content-between align-items-center mb-4 mt-5">
      <h4 class="mb-0">Administración de Usuarios</h4>
      <a class="btn btn-success" [routerLink]="['/admin/CRUDUsuarios']">Ir a administrar Usuarios</a>
    </div>
  
    <div class="row g-4 mb-5">
      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-primary bg-opacity-10 text-primary">
                <i class="fas fa-users"></i>
              </div>
              
            </div>
            <h6 class="text-muted mb-2">Total Usuarios</h6>
            <h4 class="mb-3">{{arrUsuarios.length}}</h4>
            <div class="progress">
              <div class="progress-bar bg-primary" style="width: 75%"></div>
            </div>
          </div>
        </div>
      </div>
  
      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-info bg-opacity-10 text-info">
                <i class="fas fa-paper-plane"></i>
              </div>
            </div>
            <h6 class="text-muted mb-2">Solicitudes Enviadas</h6>
            <h4 class="mb-3">{{arrSolicitudes.length}}</h4>
            <div class="progress">
              <div class="progress-bar bg-info" style="width: 90%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  
    <div class="d-flex justify-content-between align-items-center mb-4 mt-5">
      <h4 class="mb-0">Administración de Categorías</h4>
      <a class="btn btn-success" [routerLink]="['/admin/CRUDCategorias']">Ir a administrar Categorías</a>
    </div>

    <div class="row g-4 mb-5">
      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-primary bg-opacity-10 text-primary">
                <i class="fas fa-tags"></i>
              </div>
            </div>
            <h6 class="text-muted mb-2">Total Categorías</h6>
            <h4 class="mb-3">{{arrCategorias.length}}</h4>
            <div class="progress">
              <div class="progress-bar bg-primary" style="width: 75%"></div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 col-sm-6">
        <div class="card stat-card border-0 shadow-sm">
          <div class="card-body">
            <div class="d-flex align-items-center mb-3">
              <div class="stat-icon bg-info bg-opacity-10 text-info">
                <i class="fas fa-chart-pie"></i>
              </div>
            </div>
            <h6 class="text-muted mb-2">Vacantes/Categoría</h6>
            <h4 class="mb-3">{{getVacantesCategorias()}}</h4>
            <div class="progress">
              <div class="progress-bar bg-info" style="width: 65%"></div>
            </div>
          </div>
        </div>
      </div>
    </div>

  </div>
  }

</div>
